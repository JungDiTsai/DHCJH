<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="css/flyer.css">
    <!-- font awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
        integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <!-- owl.carousel.js -->
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.0.0-beta.2.4/assets/owl.carousel.min.css">
    </link>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.0.0-beta.2.4/assets/owl.theme.default.min.css">
    </link>
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.0.0-beta.2.4/owl.carousel.min.js"></script>
    <!-- 動畫套件 -->
    <script src="js/parallax.js"></script>
    <!-- jquer UI -->
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</head>
<style>
    html {
        overflow: -moz-hidden-unscrollable;
        height: 100%;
    }

    body::-webkit-scrollbar {
        display: none;
    }

    body {
        -ms-overflow-style: none;
        height: 100%;
        overflow: auto;
    }
</style>

<body>
    <input type="checkbox" id=menu_control>
    <header>
        <!-- 放bar選單 -->
        <label for="menu_control" class="menubtn">
            <div id="nav-icon2">
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                <span></span>
            </div>
        </label>
        <nav class="mainNav">
            <li class="mainNavCell"><a href="customized_01.html">電子花車客製</a></li>
            <li class="mainNavCell"><a href="flyer.html">客製化宣傳單</a></li>
            <h1 class="navLogo"><a href="index.html"><img src="images/logo.png" alt="台灣大舞台"></a></h1>
            <li class="mainNavCell"><a href="beautyPageant.html">花車選美</a></li>
            <li class="mainNavCell"><a href="intro.html">花車特色介紹</a></li>
            <div class="navMemBtn">
                <i class="far fa-user-circle"></i>
            </div>
        </nav>
    </header>
    <div class="box"></div>
    <!-- 登入燈箱 -->
    <div class="loginBox">
        <i class="fas fa-times"></i>
        <h3>登入</h3>
        <div class="inputBox">
            <i class="fas fa-user fa-1x"></i><input type="text" id="username" placeholder="User">
        </div>
        <div class="inputBox">
            <i class="fas fa-key fa-1x"></i><input type="password" id="password" placeholder="Password">
        </div>
        <a href="memberCenter.html"><button class="commonBtn">登入</button></a>
        <p><a class="showRegistered">註冊</a> / <a class="showForgotPSW">忘記密碼</a></p>
    </div>
    <!-- 註冊燈箱 -->
    <div class="registeredBox">
        <i class="fas fa-times"></i>
        <h3>立即註冊</h3>
        <table>
            <tr>
                <th>會員帳號</th>
                <td><input type="text"></td>
            </tr>
            <tr>
                <td colspan="2" class="prompt"><span>此帳號已有人使用 !</span></td>
            </tr>
            <tr>
                <th>會員密碼</th>
                <td><input type="password"></td>
            </tr>
            <tr>
                <th>會員姓名</th>
                <td><input type="text"></td>
            </tr>
            <tr>
                <th>會員電話</th>
                <td><input type="tel"></td>
            </tr>
            <tr>
                <th>會員信箱</th>
                <td><input type="email"></td>
            </tr>
            <tr>
                <th>性別</th>
                <td>
                    <label>
                        <input type="radio" name="sex" value="">
                        <i class="fas fa-venus fa-2x"></i>
                    </label>
                    <label>
                        <input type="radio" name="sex" value="">
                        <i class="fas fa-mars fa-2x"></i>
                    </label>
                </td>
            </tr>
            <tr>
                <th colspan="2"><input type="submit" value="註冊帳號" class="commonBtn"></th>
            </tr>
        </table>
        <div><a class="backLogin">回到登入</a></div>
    </div>
    <!-- 忘記密碼燈箱 -->
    <div class="forgotBox">
        <i class="fas fa-times"></i>
        <h3>忘記密碼</h3>
        <p>請輸入您註冊時的會員信箱，我們會將新的密碼寄至您的信箱。</p>
        <div>會員信箱<input type="email"></div>
        <input type="submit" value="寄送密碼" class="commonBtn">
        <div><a class="backLogin">回到登入</a></div>
    </div>



    <!-- flyer內容 -->
    <article class="firstScreen">
        <div class="wrap">
            <h2 class="titleBgi">客製活動宣傳單</h2>
            <div class="title">
                <p> 客製宣傳單功能為免費功能，有購買花車的客戶可以更可匯入花車內容，輕鬆幫你邀請朋友參加活動，還有統計參加人數，快來試試看吧！</p>
            </div>
            <div class="stepsBar">
                <div class="stepBox">
                    <div class="circle step">壹</div>
                    <p>選擇背景圖片</p>
                </div>
                <div class="stepBox">
                    <div class="circle">貳</div>
                    <p>選擇日期</p>
                </div>
                <div class="stepBox">
                    <div class="circle">參</div>
                    <p>選擇活動地點</p>
                </div>
                <div class="stepBox">
                    <div class="circle">肆</div>
                    <p>輸入文字</p>
                </div>
            </div>
            <div class="clearfloat">
            </div>
            <div class="doIt">
                <div class="backBlock">
                    <div id="A4page"></div>
                    <div id="tool">
                        <i class="fas fa-search-plus"></i>
                        <i class="fas fa-search-minus"></i>
                        <i class="fas fa-redo-alt"></i>
                        <i class="fas fa-undo-alt"></i>
                        <i class="fas fa-arrow-left"></i>
                        <i class="fas fa-arrow-right"></i>
                        <i class="fas fa-trash-alt"></i>
                    </div>
                </div>
                <div class="whiteBlock">
                    <h4>選擇背景圖片</h4>
                    <div id="toolBox">
                        <div id="alltool">
                            <div id="toolinnerBox">
                                    <label>
                                            <img src="images/icon/updateIcon.png" id="updateIcon">
                                            <input type="file" name="" id="updateInput">
                                            <span>上傳圖片</span>
                                        </label>
                                <img src="images/customized/cust_stage_innerPattern/cust_stage_pattern_02.jpg" alt="">
                                <img src="images/customized/cust_stage_innerPattern/cust_stage_pattern_03.jpg" alt="">
                                <img src="images/customized/cust_stage_innerPattern/cust_stage_pattern_04.jpg" alt="">
                                <img src="images/customized/cust_stage_innerPattern/cust_stage_pattern_05.jpg" alt="">
                                <img src="images/customized/cust_stage_innerPattern/cust_stage_pattern_06.jpg" alt="">
                                <img src="images/customized/cust_stage_innerPattern/cust_stage_pattern_07.jpg" alt="">
                                <img src="images/customized/cust_stage_innerPattern/cust_stage_pattern_08.jpg" alt="">
                                
                            </div>
                            <div id="selectDay">
                                <label>
                                    <img src="images/icon/dateIcon.png">
                                    <p>活動日期 :</p>
                                    <input type="text" id="datepicker">
                                </label>
                            </div>
                            <div id="textPlace">
                                <div class="col-8">
                                    <input type="text" placeholder="輸入您的活動地點">
                                    <p>您的活動地點 <span>高雄市前鎮區草衙里佛宗街54號</span> 的google地圖</p>
                                </div>
                                <div class="col-4"><img src="https://fakeimg.pl/70x70/666"></div>
                            </div>
                            <div id="textWord">
                                <textarea name="" id="" cols="30" rows="3" maxlength="120"
                                    placeholder="輸入想在宣傳單傳達的內容 ( 限120字 )"></textarea>
                            </div>
                        </div>
                        <i class="fas fa-angle-double-left fa-2x"></i>
                        <i class="fas fa-angle-double-right fa-2x"></i>
                    </div>
                    <div class="btnBar">
                        <button class="commonBtn" id="back">上一步</button>
                        <button class="commonBtn" id="next">下一步</button>
                    </div>
                </div>
                <div class="clothCurtain">
                    <div>
                        <p>如有舞台客製訂單者，可指定訂單，即可匯入宣傳單內，無訂單者，也可以免費體驗客製宣傳單估能。<br><br>＊公開體驗宣傳單將於發布達24小時移除＊</p>
                    </div>
                    <div>
                        <button class="commonBtn">匯入訂單</button>
                        <button class="commonBtn start">免費體驗</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="mouse">
            <p class="scroll">scroll</p>
        </div>
        </div>
    </article>
    <article class="secScreen">
        <div class="wrap">
            <div class="title">
                <h2 class="titleBgi">客製活動宣傳單</h2>
            </div>
            <div class="bigCarcouselBox">
                <div class="card one">
                    <div class="ElongationBox">
                        <div class="blockBox">
                            <img src="images/flyer/2.jpg" alt="">
                            <img src="images/flyer/flyerPin.png" alt="">
                            <img src="images/flyer/flyerPin.png" alt="">
                        </div>
                        <div class="cardContent">

                        </div>
                    </div>
                </div>

                <div class="card two">
                    <div class="ElongationBox">
                        <div class="blockBox">
                            <img src="images/flyer/3.jpg" alt="">
                            <img src="images/flyer/flyerPin.png" alt="">
                            <img src="images/flyer/flyerPin.png" alt="">
                        </div>
                        <div class="cardContent"></div>
                    </div>
                </div>

                <div class="card three">
                    <div class="ElongationBox">
                        <div class="blockBox">
                            <img src="images/flyer/1.jpg" alt="">
                            <img src="images/flyer/flyerPin.png" alt="">
                            <img src="images/flyer/flyerPin.png" alt="">
                        </div>
                        <div class="cardContent"></div>
                    </div>
                </div>
            </div>
            <div class="owl-carousel owl-theme">
                <div class="item"><img src="images/flyer/1.jpg" class="flyer"></div>
                <div class="item"><img src="images/flyer/2.jpg" class="flyer"></div>
                <div class="item"><img src="images/flyer/3.jpg" class="flyer"></div>
                <div class="item"><img src="images/flyer/4.jpg" class="flyer"></div>
                <div class="item"><img src="images/flyer/1.jpg" class="flyer"></div>
                <div class="item"><img src="images/flyer/2.jpg" class="flyer"></div>
                <div class="item"><img src="images/flyer/3.jpg" class="flyer"></div>
                <div class="item"><img src="images/flyer/4.jpg" class="flyer"></div>
                <div class="item"><img src="images/flyer/5.jpg" class="flyer"></div>
            </div>
    </article>
    <article class="thrScreen">
        <div class="wrap">
            <div class="title">
                <h2 class="titleBgi">宣傳單小試身手</h2>
            </div>
            <ul>
                <li><img src="images/flyer/1.jpg"></li>
                <li><img src="images/flyer/2.jpg"></li>
                <li><img src="images/flyer/3.jpg"></li>
                <li><img src="images/flyer/4.jpg"></li>
                <li><img src="images/flyer/5.jpg"></li>
                <li><img src="images/flyer/1.jpg"></li>
                <li><img src="images/flyer/2.jpg"></li>
                <li><img src="images/flyer/3.jpg"></li>
                <li><img src="images/flyer/4.jpg"></li>
                <li><img src="images/flyer/5.jpg"></li>
            </ul>
        </div>
    </article>


    <!-- 宣傳單燈箱 -->
    <div class="blackBox">
        <div class="envelopeLightBox">
            <i class="fas fa-times fa-2x" id="hiddenEnvelopeLightBox"></i>
            <img src="images/icon/iconMore.png" alt="查看更多" id="envelopeIcon">
            <div class="flyerArea">
                <img src="images/flyer/1.png" alt="宣傳單">
                <div class="envelopeHeader">
                    <h4>闖闖看淘氣大舞台</h4>
                    <span>活動時間 2019-08-28</span>
                </div>
            </div>
            <div class="envelopeContent">
                <div class="envelopeTitle">
                    <div class="titleImg"><img src="images/member2.jpg" alt=""></div>
                    <div class="titleName">
                        <p>Christina</p><span>參加人數 <mark>24</mark> 人</span>
                    </div>
                </div>
                <div class="envelopeDetail">
                    <p>主持人</p>
                    <p>潘佳麗</p>
                    <p>地點</p>
                    <p>桃園市桃園區八德路中壢巷54號</p>
                    <p>活動時間</p>
                    <p>2019-08-29</p>
                    <span>
                        簡介<br>
                        從小朋友喜歡的兒童汽車、氣墊遊戲及特色胖卡市集，舞台活動更邀請到波力、MOMO哥哥姐姐們及BabyBoss職業體驗城等知名卡童玩偶陪伴大家一起玩樂，更首創300公分高的馬卡龍色系大舞台地景唷。
                    </span>
                </div>
                <div class="envelopeBar">
                    <button class="commonBtn">我要參加</button>
                </div>
            </div>
        </div>
    </div>


    <script src="js/font_loginLightBox.js"></script>
    <script>
        //點擊免費體驗
        document.querySelector('.start').addEventListener('click', function () {
            let clothCurtain = document.querySelector('.clothCurtain');
            clothCurtain.style.setProperty('animation', `blurFadeInOut 2s ease-in backwards`);
            setTimeout(function () {
                clothCurtain.style.display = "none"
            }, 2000);
        })

        // 點擊scroll滑動
        document.querySelector('.mouse').addEventListener('click', function () {
            let secScreen = document.querySelector('.secScreen').offsetTop;
            window.scrollTo({
                top: secScreen+1,
                behavior: "smooth"
            });
        })

        // 宣傳單燈箱
        function envelopeLightBox() {
            let flyers = document.getElementsByClassName('flyer');
            for (let i = 0; i < flyers.length; i++) {
                flyers[i].addEventListener('click', function () {
                    document.querySelector('.blackBox').style.setProperty('display', 'block');
                    document.getElementById('hiddenEnvelopeLightBox').addEventListener('click', function () {
                        document.querySelector('.blackBox').style.setProperty('display', 'none');
                    })

                    document.getElementById('envelopeIcon').addEventListener('click', function (e) {
                        let envelopeContent = document.querySelector('.envelopeContent')
                        let style = window.getComputedStyle(envelopeContent).getPropertyValue('left')
                        if (style !== '0px') {
                            e.target.setAttribute('src', 'images/icon/iconBack.png');
                            document.querySelector('.envelopeContent').style.setProperty('opacity',
                                '1');
                            document.querySelector('.envelopeContent').style.setProperty('left', '0');
                            document.querySelector('.envelopeContent').style.setProperty('transition',
                                '1s');
                        } else {
                            e.target.setAttribute('src', 'images/icon/iconMore.png');
                            document.querySelector('.envelopeContent').style.setProperty('opacity',
                                '0');
                            document.querySelector('.envelopeContent').style.setProperty('left',
                                '-150%');
                            document.querySelector('.envelopeContent').style.setProperty('transition',
                                '1s');
                        }
                    })
                    document.querySelector('.flyerArea').addEventListener('mouseover', function () {
                        document.querySelector('.envelopeHeader').style.setProperty('bottom', '-10%');
                        document.querySelector('.envelopeHeader').style.setProperty('transition', '1s');
                    })
                })
            }
        }
        envelopeLightBox();

        // 大輪播圖卡更換
        let cards = document.querySelectorAll('.card');
        for (let i = 0; i < cards.length; i++) {
            cards[i].addEventListener('click', function () {
                let listenMove = this.style.getPropertyValue('transform');
                console.log(listenMove);
                if (listenMove !== 'translateX(-50%)') {
                    this.style.setProperty('transform', 'translateX(-50%)');
                    this.style.setProperty('z-index', '5');
                    this.querySelector('.cardContent').style.setProperty('transform', 'translateX(100%)');

                } else {
                    this.style.setProperty('z-index', '-1');
                    this.style.setProperty('transform', 'translateX(0%)');
                    this.querySelector('.cardContent').style.setProperty('transform', 'translateX(0%)');
                }
                if (i == 2) {
                    document.querySelector('.one').style.setProperty('z-index', '5');
                }

            })
        }
        //   大輪播捲動
        window.addEventListener('scroll', function (e) {
            let nowScrollHeight = window.pageYOffset;
            let secScreen = document.querySelector('.secScreen').offsetTop;
            let screenWidth = document.body.clientWidth;

            if (nowScrollHeight > secScreen) {
                document.querySelector('.one').style.setProperty('z-index', '5');
                document.querySelectorAll('.title')[1].style.setProperty('position', 'fixed');
                document.querySelectorAll('.title')[1].style.setProperty('opacity', '1');
                document.querySelectorAll('.title')[1].style.setProperty('top', '50px');
                document.querySelector('.bigCarcouselBox').style.setProperty('opacity', '1')
                if (screenWidth >= 768) {
                    document.querySelector('.bigCarcouselBox').style.setProperty('bottom', '150px')
                } else {
                    document.querySelector('.bigCarcouselBox').style.setProperty('bottom', '150px')
                }
                document.querySelector('.bigCarcouselBox').style.setProperty('position', 'fixed')
                document.querySelectorAll('.card')[0].querySelector('.cardContent').style.setProperty(
                    'transform', 'translateX(0%)')
            } else {
                document.querySelectorAll('.title')[1].style.setProperty('opacity', '0');
                document.querySelector('.bigCarcouselBox').style.setProperty('bottom', '0px')
                document.querySelector('.bigCarcouselBox').style.setProperty('opacity', '0')
                document.querySelector('.bigCarcouselBox').style.setProperty('position', 'absolute')
            }
            if (nowScrollHeight > secScreen + 500) {
                document.querySelector('.one').style.setProperty('transform', 'translateY(300%)');
                document.querySelector('.two').style.setProperty('z-index', '5');
            } else {
                document.querySelector('.one').style.setProperty('z-index', '5');
                document.querySelector('.two').style.setProperty('z-index', '4');
                document.querySelector('.one').style.setProperty('transform', 'translateY(0%)');
            }
            if (nowScrollHeight > secScreen + 1000) {
                document.querySelector('.two').style.setProperty('transform', 'translateY(300%)');
            } else {
                document.querySelector('.two').style.setProperty('transform', 'translateY(0%)')
            }
            if (nowScrollHeight > secScreen + 1500) {
                document.querySelector('.three').style.setProperty('transform', 'translateY(300%)')
            } else {
                document.querySelector('.three').style.setProperty('transform', 'translateY(0%)')
            }
            if (nowScrollHeight > secScreen + 1700) {
                document.querySelectorAll('.title')[1].style.setProperty('position', 'absolute');
            }
        })
        document.querySelector('.one').addEventListener('mouseover', function () {
            document.querySelector('.three').style.setProperty('transform', 'rotateZ(-10deg)')
            document.querySelector('.two').style.setProperty('transform', 'rotateZ(10deg)')
        })
        document.querySelector('.two').addEventListener('mouseover', function () {
            document.querySelector('.three').style.setProperty('transform', 'rotateZ(-10deg)')
        })
    </script>
    <!-- owl輪播 JS -->
    <script src="js/carcousel.js"></script>
    <!-- jquery UI datepicker -->
    <script>
        $(function () {
            $("#datepicker").datepicker();
        });
        $('#selectDay input').on('change', function () {
            $('#selectDay p').html('活動日期' + ' : <span>' + this.value + '</span>')
        })
    </script>
    <!--  -->
    <!-- 點擊下一步到下一個步驟 -->
    <script>
        document.getElementById('next').addEventListener('click', function (e) {
            let alltoll = document.getElementById('alltool');
            let key = window.getComputedStyle(alltoll, null).top;
            let screenWidth = document.body.clientWidth;
            if (screenWidth <= 992) {
                switch (key) {
                    case '0px':
                        alltoll.style.setProperty('top', '-88px');
                        break;
                    case '-88px':
                        alltoll.style.setProperty('top', '-176px')
                        break;
                    case '-176px':
                        alltoll.style.setProperty('top', '-264px');
                        e.target.innerText = "完成";
                        break;
                    default:
                        break;
                }
            } else {
                switch (key) {
                    case '0px':
                        alltoll.style.setProperty('top', '-300px');
                        break;
                    case '-300px':
                        alltoll.style.setProperty('top', '-600px')
                        break;
                    case '-600px':
                        alltoll.style.setProperty('top', '-900px');
                        document.querySelector('#textWord textarea ').setAttribute("rows", "4");
                        e.target.innerText = "完成";
                        break;
                    default:
                        break;
                }
            }
        })
        document.getElementById('back').addEventListener('click', function () {
            let alltoll = document.getElementById('alltool');
            let key = window.getComputedStyle(alltoll, null).top;
            let screenWidth = document.body.clientWidth;
            if (screenWidth <= 992) {
                switch (key) {
                    case '-88px':
                        document.querySelector('.fa-angle-double-left').style.display = 'block';
                        document.querySelector('.fa-angle-double-right').style.display = 'block';
                        alltoll.style.setProperty('top', '0px')
                        break;
                    case '-176px':
                        alltoll.style.setProperty('top', '-88px')
                        break;
                    case '-264px':
                        alltoll.style.setProperty('top', '-176px');
                        document.getElementById('next').innerText = "下一步";
                        break;
                    default:
                        break;
                }
            } else {
                switch (key) {
                    case '-300px':
                        document.querySelector('.fa-angle-double-left').style.display = 'block';
                        document.querySelector('.fa-angle-double-right').style.display = 'block';
                        alltoll.style.setProperty('top', '0px')
                        break;
                    case '-600px':
                        alltoll.style.setProperty('top', '-300px');

                        break;
                    case '-900px':
                        alltoll.style.setProperty('top', '-600px');
                        document.getElementById('next').innerText = "下一步";
                        break;
                    default:
                        break;
                }
            }
        })

        // 檔案上傳
        document.getElementById('updateInput').addEventListener('change',function(e){
            let file = e.target.files[0];
            let readFile = new FileReader();
            readFile.readAsDataURL(file);
            readFile.addEventListener('load',function(){
                let img = document.createElement('img');
                img.src = readFile.result;
                img.id = 'theImage';
                document.getElementById('toolinnerBox').appendChild(img);
            })
        })


        //點擊或拖曳新增物件
        let AllToolImg = document.querySelectorAll('#toolinnerBox img');
        let A4Box = document.getElementById('A4page');
        for (let i = 1; i < AllToolImg.length; i++) {

            //對拖拉圖片設定-------------------------------
            AllToolImg[i].addEventListener('dragstart',function(e){
                let aa = e.target.src;
                console.log(aa);
                e.dataTransfer.setData('image/jpeg',aa)
            })
            AllToolImg[i].addEventListener('dragend',function(e){
                //拖拉圖片結束後，對圖片設定
            })

            //對置入的盒子做設定---------------------------
            A4Box.addEventListener('dragover',function(e){
                e.preventDefault();
            });

            A4Box.addEventListener('drop',function(e){
                e.preventDefault();
                let thisImg =e.dataTransfer.getData('image/jpeg');
                A4Box.style.setProperty('background',`url(${thisImg}) center`);
                A4Box.style.setProperty('backgroundSize',`cover`);
            })
        }
    </script>
</body>

</html>